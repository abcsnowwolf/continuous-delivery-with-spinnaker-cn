# 第二章： 对于云开发的思考
 无论是在云上创建一个新的项目还是建现有的复杂的分布式系统迁移至云中，我们都需要考虑应用的部署方式所带来的基础设施对应用的稳定性的本质上的影响，安全性和可扩展性的问题。这里所说的可扩展性包含了应用所处理的流量的规模以及工程师团队的规模甚至整个组织中的微服务数量。

 上一章主要介绍了持续部署所带来的好处,也包含了一些你在思考整个公司持续部署时的案例。这一章，我们将会讨论为了将应用部署在云端，你所需要考虑的一些基本事项。在你将应用部署到云端之前，这一章所提到的问题，你都应该仔细考虑并确定方案。对于每一个问题，我们将会展示它并告诉你在社区上和Netflix是如何做的，这将会给你提供一个潜在的解决方案。你将会学到在你建立起持续部署解决方案之前你需要思考的内容。

 ## 凭证管理
 第一件需要考虑的事情就是你将要如何在云中管理你的凭证。前人说过“云就是别人的电脑”，你需要很小心地在云中存储你的敏感数据。当你仅仅是租用硬件的一部分的时候，这将变的更加重要。

 云厂商提供了IAM(Identity and Access Management)服务来帮助用户解决这个问题。通常，你至少会有一些服务会需要调用内部的服务或者第三方的供应商来进行鉴权。数据库的密码、github的token、客户端的证书或者私钥都应该进行加密之后再发送，当然客户的敏感信息也是如此。证书应该有经常进行更换，并有一个回归测试来保证它的有效性。

 谷歌为GCP用户提供的私钥管理服务(Google's Cloud Key Management service)满足了上述的所有要求。亚马逊的私钥管理服务通过将这些敏感信息存储在HSMs（Hardware Security Modules）中，提供了额外的安全性。Kubernetes本身设计了Secrets系统，用于保存和分发这些敏感信息。HashiCorps的Vault是一款开源的敏感信息管理工具，他可以在任何云环境中运行。

 是否选择某种解决方案取决于他与你的应用的发布过程的结合度。你应该给予你的应用能够满足需求的最小的权限，和仅仅他所需求的敏感信息。

 ## 地域隔离